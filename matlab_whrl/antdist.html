
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>antdist</title><meta name="generator" content="MATLAB 9.1"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2017-05-20"><meta name="DC.source" content="antdist.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h2>Contents</h2><div><ul><li><a href="#2">Modell %%</a></li><li><a href="#3">Beine</a></li></ul></div><pre class="codeinput"><span class="comment">% Toni W&ouml;hrl, M&auml;rz 2013, Messung von Entfernungen: Kopf, Gaster,</span>
<span class="comment">% Beinsegmente von Ameisen</span>


clear <span class="string">all</span>
clc
pathname = <span class="string">'C:\Users\tw\Dropbox\todo\ant\segment_length\'</span>;
<span class="comment">%cd('C:\Users\Woehrl\Ubuntu One\script')</span>
addpath(<span class="string">'C:\Users\tw\Dropbox\todo\code\matlab'</span>)

<span class="comment">%-------------</span>
<span class="comment">%Segmentmassen</span>
<span class="comment">%-------------</span>

segm = [74.6 35.8 162.7 6.1	6 9.1]/15; <span class="comment">%Masse der Segmente vgl. lsegm von 15 Ameisen</span>
lsegm = {<span class="string">'Kopf'</span>	<span class="string">'Thorax'</span> <span class="string">'Gaster'</span> <span class="string">'Beinpaar 1'</span>	<span class="string">'Beinpaar M'</span> <span class="string">'Beinpaar H'</span>};

[BodyVorAnalyse Kopf Thorax Gaster leg1 leg2 leg3 SumLeg SumBodyPartNachAnalyse Waage] = <span class="keyword">...</span>
    CSVIMPORT([pathname, <span class="string">'130306_massen.csv'</span>],<span class="keyword">...</span>
    <span class="string">'columns'</span>, {<span class="string">'BodyVorAnalyse'</span> <span class="string">'Kopf'</span> <span class="string">'Thorax'</span> <span class="string">'Gaster'</span> <span class="string">'leg1'</span> <span class="string">'leg2'</span> <span class="string">'leg3'</span> <span class="string">'SumLeg'</span> <span class="string">'SumBodyPartNachAnalyse'</span> <span class="string">'Waage'</span>},<span class="keyword">...</span>
    <span class="string">'delimiter'</span>, <span class="string">';'</span>); <span class="comment">%Einheit: Milligram</span>

leg1all = 6.2/30; <span class="comment">% mg alle ersten Beine</span>
leg2all = 6.15/29; <span class="comment">% mg alle zweiten Beine</span>
leg3all = 9.1/30; <span class="comment">% mg alle dritten Beine</span>
sumlegall = 2* (leg1all + leg2all + leg3all);

<span class="comment">%-------------</span>
<span class="comment">%L&auml;ngenmessung</span>
<span class="comment">%-------------</span>

[id] = CSVIMPORT([pathname, <span class="string">'130326_protokoll.csv'</span>], <span class="string">'columns'</span>, {<span class="string">'ID'</span>}, <span class="string">'delimiter'</span>, <span class="string">';'</span>);

pos_s  = 8;     <span class="comment">%Position zur Kennzeichnung des Segmentes h = Kopf, g = Gaster, p = alle Punkte im Dateinamen</span>
pos_n  = 9:10; <span class="comment">%Position der Ameisennummer im Dateinamen</span>

<span class="keyword">for</span> ii = 1:length(id)
    n = str2num(id{ii}(pos_n));
    <span class="keyword">if</span> id{ii}(pos_s) == <span class="string">'h'</span> <span class="comment">%Kopf, %gerade nummer = vieleck, %ungerade = ellipse</span>
        [h(n,1:2) h(n,3:4) h(n,5:6) h(n,7:8)]<span class="keyword">...</span>
            = CSVIMPORT([pathname, id{ii}], <span class="string">'columns'</span>, {<span class="string">'Area'</span>, <span class="string">'Perim.'</span>, <span class="string">'Major'</span>, <span class="string">'Minor'</span>}, <span class="string">'delimiter'</span>, <span class="string">'\t'</span>);
    <span class="keyword">elseif</span> id{ii}(pos_s) == <span class="string">'g'</span> <span class="comment">%Gaster %gerade nummer = vieleck, %ungerade = ellipse</span>
        [g(n,1:2) g(n,3:4) g(n,5:6) g(n,7:8)]<span class="keyword">...</span>
            = CSVIMPORT([pathname, id{ii}], <span class="string">'columns'</span>, {<span class="string">'Area'</span>, <span class="string">'Perim.'</span>, <span class="string">'Major'</span>, <span class="string">'Minor'</span>}, <span class="string">'delimiter'</span>, <span class="string">'\t'</span>);
    <span class="keyword">elseif</span> id{ii}(pos_s) == <span class="string">'p'</span> <span class="comment">%Alle Punkte</span>
        [x(n,:) y(n,:)] = CSVIMPORT([pathname, id{ii}], <span class="string">'columns'</span>, {<span class="string">'X'</span> <span class="string">'Y'</span>}, <span class="string">'delimiter'</span>, <span class="string">'\t'</span>);
    <span class="keyword">end</span>
    antnr(n,1)=n;
<span class="keyword">end</span>

<span class="comment">%-------</span>
<span class="comment">%Ma&szlig;stab</span>
<span class="comment">%-------</span>
m = antdist2(1,2,x,y);
m5=mean([m(2:4);m(6:end)])/5;
m2=m(5)/2;
mm= [m5 m5 m5 m5 m2 m5 m5 m5 m5 m5 m5 m5 m5 m5 m5 m5]'; <span class="comment">%Pixel pro 5 Millimeter</span>


<span class="comment">%------</span>
<span class="comment">%Gaster</span>
<span class="comment">%------</span>
gh = antdist2(5,9,x,y)./mm; <span class="comment">%H&ouml;he</span>
gl = antdist2(3,7,x,y)./mm; <span class="comment">%L&auml;nge</span>

<span class="comment">%----</span>
<span class="comment">%Kopf</span>
<span class="comment">%----</span>
kl = antdist2(22,26,x,y)./mm; <span class="comment">%Kopfl&auml;nge</span>
kb = antdist2(24,28,x,y)./mm; <span class="comment">%Kopfbreite</span>

<span class="comment">%------</span>
<span class="comment">%Thorax</span>
<span class="comment">%------</span>
tl = antdist2(11,17,x,y)./mm; <span class="comment">%L&auml;nge</span>
tb1 = antdist2(15,18,x,y)./mm; <span class="comment">%Breite</span>
tb2 = antdist2(13,20,x,y)./mm; <span class="comment">%Breite</span>
tb3 = antdist2(12,21,x,y)./mm; <span class="comment">%Breite</span>
tb  = mean([tb1 tb2 tb3],2);
<span class="comment">%--------------</span>
<span class="comment">%Vorderbeine 1:</span>
<span class="comment">%--------------</span>
<span class="comment">% l1 femur</span>
l1f(:,1) = antdist2(30,31,x,y)./mm;
l1f(:,2) = antdist2(48,49,x,y)./mm;
l1f = mean(l1f,2);
l1fb1(:,1) = antdist2(36,37,x,y)./mm;
l1fb1(:,2) = antdist2(54,55,x,y)./mm;
l1fb1 = mean(l1fb1,2);
l1fb2(:,1) = antdist2(38,39,x,y)./mm;
l1fb2(:,2) = antdist2(56,57,x,y)./mm;
l1fb2 = mean(l1fb2,2);
l1fb  = mean([l1fb1 l1fb2],2);

<span class="comment">% l1 tibia</span>
l1t(:,1) = antdist2(31,32,x,y)./mm;
l1t(:,2) = antdist2(49,50,x,y)./mm;
l1t = mean(l1t,2);
l1tb1(:,1) = antdist2(40,41,x,y)./mm;
l1tb1(:,2) = antdist2(58,59,x,y)./mm;
l1tb1 = mean(l1tb1,2);
l1tb2(:,1) = antdist2(42,43,x,y)./mm;
l1tb2(:,2) = antdist2(60,61,x,y)./mm;
l1tb2 = mean(l1tb2,2);
l1tb  = mean([l1tb1 l1tb2],2);
<span class="comment">% l1 metatarsus</span>
l1m(:,1) = (antdist2(32,33,x,y) + antdist2(33,34,x,y) + antdist2(34,35,x,y))./mm;
l1m(:,2) = (antdist2(50,51,x,y) + antdist2(51,52,x,y) + antdist2(52,53,x,y))./mm;
l1m = mean(l1m,2);
l1mb1(:,1) = antdist2(44,45,x,y)./mm;
l1mb1(:,2) = antdist2(62,63,x,y)./mm;
l1mb1 = mean(l1mb1,2);
l1mb2(:,1) = antdist2(46,47,x,y)./mm;
l1mb2(:,2) = antdist2(64,65,x,y)./mm;
l1mb2 = mean(l1mb2,2);
l1mb = mean([l1mb1, l1mb2],2);
<span class="comment">%-------------</span>
<span class="comment">%Mittelbeine 2:</span>
<span class="comment">%-------------</span>
<span class="comment">% l2 femur</span>
l2f(:,1) = antdist2(66,67,x,y)./mm;
l2f(:,2) = antdist2(84,85,x,y)./mm;
l2f = mean(l2f,2);
l2fb1(:,1) = antdist2(72,73,x,y)./mm;
l2fb1(:,2) = antdist2(90,91,x,y)./mm;
l2fb1 = mean(l2fb1,2);
l2fb2(:,1) = antdist2(74,75,x,y)./mm;
l2fb2(:,2) = antdist2(92,93,x,y)./mm;
l2fb2 = mean(l2fb2,2);
l2fb  = mean([l2fb1 l2fb2],2);
<span class="comment">% l2 tibia</span>
l2t(:,1) = antdist2(66,67,x,y)./mm;
l2t(:,2) = antdist2(85,86,x,y)./mm;
l2t = mean(l2t,2);
l2tb1(:,1) = antdist2(76,77,x,y)./mm;
l2tb1(:,2) = antdist2(94,95,x,y)./mm;
l2tb1 = mean(l2tb1,2);
l2tb2(:,1) = antdist2(78,79,x,y)./mm;
l2tb2(:,2) = antdist2(96,97,x,y)./mm;
l2tb2 = mean(l2tb2,2);
l2tb   = mean([l2tb1 l2tb2],2);
<span class="comment">% l2 metatarsus</span>
l2m(:,1) = (antdist2(68,69,x,y) + antdist2(69,70,x,y) + antdist2(70,71,x,y))./mm;
l2m(:,2) = (antdist2(86,87,x,y) + antdist2(87,88,x,y) + antdist2(88,89,x,y))./mm;
l2m = mean(l2m,2);
l2mb1(:,1) = antdist2(80,81,x,y)./mm;
l2mb1(:,2) = antdist2(98,99,x,y)./mm;
l2mb1 = mean(l2mb1,2);
l2mb2(:,1) = antdist2(82,83,x,y)./mm;
l2mb2(:,2) = antdist2(100,101,x,y)./mm;
l2mb2 = mean(l2mb2,2);
l2mb = mean([l2mb1 l2mb1],2);
<span class="comment">%-------------</span>
<span class="comment">%Hinterbeine 2:</span>
<span class="comment">%-------------</span>
<span class="comment">% l3 femur</span>
l3f(:,1) = antdist2(102,103,x,y)./mm;
l3f(:,2) = antdist2(120,121,x,y)./mm;
l3fb1(:,1) = antdist2(108,109,x,y)./mm;
l3fb1(:,2) = antdist2(126,127,x,y)./mm;
l3fb2(:,1) = antdist2(110,111,x,y)./mm;
l3fb2(:,2) = antdist2(128,129,x,y)./mm;
<span class="comment">% l3 tibia</span>
l3t(:,1) = antdist2(103,104,x,y)./mm;
l3t(:,2) = antdist2(121,122,x,y)./mm;
l3tb1(:,1) = antdist2(112,113,x,y)./mm;
l3tb1(:,2) = antdist2(130,131,x,y)./mm;
l3tb2(:,1) = antdist2(114,115,x,y)./mm;
l3tb2(:,2) = antdist2(132,133,x,y)./mm;
<span class="comment">% l3 metatarsus</span>
l3m(:,1) = (antdist2(104,105,x,y) + antdist2(105,106,x,y) + antdist2(106,107,x,y))./mm;
l3m(:,2) = (antdist2(122,123,x,y) + antdist2(123,124,x,y) + antdist2(124,125,x,y))./mm;
l3mb1(:,1) = antdist2(116,117,x,y)./mm;
l3mb1(:,2) = antdist2(134,135,x,y)./mm;
l3mb2(:,1) = antdist2(118,119,x,y)./mm;
l3mb2(:,2) = antdist2(136,137,x,y)./mm;
<span class="comment">%!!!!! Ein Hinterbein von Ameise 4 fehlt!!</span>
l3f(4,2)=l3f(4,1);
l3t(4,2)=l3t(4,1);
l3m(4,2)=l3m(4,1);
l3fb1(4,2)=l3fb1(4,1);
l3fb2(4,2)=l3fb2(4,1);
l3tb1(4,2)=l3tb1(4,1);
l3tb2(4,2)=l3tb2(4,1);
l3mb1(4,2)=l3mb1(4,1);
l3mb2(4,2)=l3mb2(4,1);

l3f = mean(l3f,2);
l3fb1 = mean(l3fb1,2);
l3fb2 = mean(l3fb2,2);
l3fb  = mean([l3fb1, l3mb2],2);


l3t = mean(l3t,2);
l3tb1 = mean(l3tb1,2);
l3tb2 = mean(l3tb2,2);
l3tb  = mean([l3tb1, l3tb2],2);

l3m   = mean(l3m,2);
l3mb1 = mean(l3mb1,2);
l3mb2 = mean(l3mb2,2);
l3mb  = mean([l3mb1, l3mb2],2);

<span class="comment">%-----------------</span>
<span class="comment">%Gesamtl&auml;nge Beine</span>
<span class="comment">%-----------------</span>
l1 = l1f + l1t + l1m;
l2 = l2f + l2t + l2m;
l3 = l3f + l3t + l3m;

<span class="comment">%----------------------</span>
<span class="comment">%Mittelwerte Beinbreite</span>
<span class="comment">%----------------------</span>
mwbb= [<span class="keyword">...</span>
l1fb1 l1fb2 l2fb1 l2fb2 l3fb1 l3fb2 <span class="keyword">...</span>
l1tb1 l1tb2 l2tb1 l2tb2 l3tb1 l3tb2 <span class="keyword">...</span>
l1mb1 l1mb2 l2mb1 l2mb2 l3mb1 l3mb2 <span class="keyword">...</span>
];

sel = [2:16];
format <span class="string">short</span>


messwerte  = [h(:,1:4),h(:,6), h(:,8),<span class="keyword">...</span><span class="comment"> % 1..6</span>
    g(:,1:4), g(:,6), g(:,8),<span class="keyword">...</span><span class="comment">                   % 10-12</span>
    l1, l2, l3,<span class="keyword">...</span><span class="comment">                                 % 13-15</span>
    gl, gh,<span class="keyword">...</span><span class="comment">                                     % 16-17</span>
    kl, kb,<span class="keyword">...</span><span class="comment">                                     % 18-19</span>
    tl, tb1, tb2, tb3,<span class="keyword">...</span><span class="comment">                          % 20-23</span>
    mwbb];
gesamt     = [antnr mm messwerte BodyVorAnalyse Kopf Thorax Gaster leg1 leg2 leg3 SumLeg SumBodyPartNachAnalyse Waage];
label = {<span class="string">'ID'</span>, <span class="string">'mm'</span>,<span class="keyword">...</span><span class="comment"> %ID Messnummer, Ma&szlig;stab in Pixel pro Millimeter</span>
    <span class="string">'har'</span>, <span class="string">'hae'</span>, <span class="string">'hpr'</span>, <span class="string">'hpe'</span>, <span class="string">'hmaje'</span>, <span class="string">'hmine'</span>,<span class="keyword">...</span><span class="comment"> % Kopf(h): Fl&auml;che(a): Rechteck(r)/Ellipse(e); Perimeter (p): Rechteck/Ellipse; Gro&szlig;e Halbachse Ellipse und Kleine Halbachse Ellipse</span>
    <span class="string">'gar'</span>, <span class="string">'gae'</span>, <span class="string">'gpr'</span>, <span class="string">'gpe'</span>, <span class="string">'gmaje'</span>, <span class="string">'gmine'</span>,<span class="keyword">...</span><span class="comment"> % Gaster(g)... siehe Kopf</span>
    <span class="string">'l1'</span> , <span class="string">'l2'</span> , <span class="string">'l3'</span>,<span class="keyword">...</span><span class="comment"> % Bein 1 als Vorderbein, l2 Mittelbein l3 hinterbein</span>
    <span class="string">'gl'</span> , <span class="string">'gh'</span> ,<span class="keyword">...</span><span class="comment">  % Gasterl&auml;nge, Gasterh&ouml;he</span>
    <span class="string">'kl'</span> , <span class="string">'kb'</span> ,<span class="keyword">...</span><span class="comment">  % Kopfl&auml;nge, Kopfbreite</span>
    <span class="string">'tl'</span> , <span class="string">'tb1'</span>,<span class="string">'tb2'</span>, <span class="string">'tb3'</span>,<span class="keyword">...</span><span class="comment"> %Thoraxl&auml;nge, Thoraxbreite (1 bis 3)</span>
    <span class="string">'l1fb1'</span>, <span class="string">'l1fb2'</span>, <span class="string">'l2fb1'</span>, <span class="string">'l2fb2'</span>, <span class="string">'l3fb1'</span>, <span class="string">'l3fb2'</span>,<span class="keyword">...</span><span class="comment"> % Femur Breite proximal und distal von Bein 1 bis 3</span>
    <span class="string">'l1tb1'</span>, <span class="string">'l1tb2'</span>, <span class="string">'l2tb1'</span>, <span class="string">'l2tb2'</span>, <span class="string">'l3tb1'</span>, <span class="string">'l3tb2'</span>,<span class="keyword">...</span><span class="comment"> % Tibia</span>
    <span class="string">'l1mb1'</span>, <span class="string">'l1mb2'</span>, <span class="string">'l2mb1'</span>, <span class="string">'l2mb2'</span>, <span class="string">'l3mb1'</span>, <span class="string">'l3mb2'</span>,<span class="keyword">...</span><span class="comment"> % Metatarsus</span>
    <span class="string">'BodyVorAnalyse'</span>,<span class="keyword">...</span><span class="comment"> % Masse in Milligramm: toter Gesamtk&ouml;rper vor Analyse</span>
    <span class="string">'Kopf'</span> <span class="string">'Thorax'</span> <span class="string">'Gaster'</span>,<span class="keyword">...</span><span class="comment"> % Segmentmassen in Milligramm: Kopf, Thorax, Gaster</span>
    <span class="string">'leg1'</span> <span class="string">'leg2'</span> <span class="string">'leg3'</span> <span class="string">'SumLeg'</span>,<span class="keyword">...</span><span class="comment"> % Segmentmassen der Beine, Summe aller Beinpaare einer Ameise</span>
    <span class="string">'SumBodyPartNachAnalyse'</span> <span class="string">'Waage'</span>,<span class="keyword">...</span><span class="comment"> % Summe aller K&ouml;rperteile nach der Analyse, %Typ der Analysewaage</span>
    };
<span class="comment">%csvwrite_with_headers([pathname, '140901_gesamt.csv'],gesamt, label);</span>
<span class="comment">% plotmatrix([l1(sel),l2(sel),l3(sel),...</span>
<span class="comment">%      gl(sel), gh(sel),...</span>
<span class="comment">%      kl(sel), kb(sel),...</span>
<span class="comment">%      tl(sel), tb1(sel), tb2(sel), tb3(sel)]); shg</span>
[H,AX,BigAx,P,PAx] = plotmatrix([l1t(sel), BodyVorAnalyse(sel)])
[H,AX,BigAx,P,PAx] = plotmatrix([l1f(sel) l1fb(sel)])
[H,AX,BigAx,P,PAx] = plotmatrix([l2(sel) leg2(sel)])
label = {<span class="string">'a'</span>, <span class="string">'b'</span>};

plotmatrixLabel(AX,label)

femurb = [l1fb1, l1fb2, l2fb1, l2fb2, l3fb1, l3fb2];
tibiab = [l1tb1, l1tb2, l2tb1, l2tb2, l3tb1, l3tb2];
metatb = [l1mb1, l1mb2, l2mb1, l2mb2, l3mb1, l3mb2];

figure(1)
bplot([femurb(sel,:),tibiab(sel,:),metatb(sel,:)])
label = {<span class="string">'f1p'</span>,<span class="string">'f1d'</span>,<span class="string">'f2p'</span>,<span class="string">'f2d'</span>,<span class="string">'f3p'</span>,<span class="string">'f3d'</span>,<span class="string">'t1p'</span>,<span class="string">'t1d'</span>,<span class="string">'t2p'</span>,<span class="string">'t2d'</span>,<span class="string">'t3p'</span>,<span class="string">'t3d'</span>,<span class="string">'m1p'</span>,<span class="string">'m1d'</span>,<span class="string">'m2p'</span>,<span class="string">'m2d'</span>,<span class="string">'m3p'</span>,<span class="string">'m3d'</span>};
set(gca, <span class="string">'XTickLabel'</span>,label, <span class="string">'XTick'</span>,1:18)
title(<span class="string">'Durchmesser der Bein-Segmente proximal p und distal d (Femur f, Tibia t, Metatarsus m)'</span>)
ylabel(<span class="string">'d in mm'</span>)

figure(2)
bplot([leg1(sel,:),leg2(sel,:),leg3(sel,:)]/2)
label = {<span class="string">'leg1'</span>,<span class="string">'leg2'</span>,<span class="string">'leg3'</span>};
set(gca, <span class="string">'XTickLabel'</span>,label, <span class="string">'XTick'</span>,1:3)
title(<span class="string">'Masse der Einzelbeine'</span>)
ylabel(<span class="string">'m in mg'</span>)

figure(3)
bplot([l1f(sel,:),l2f(sel,:),l3f(sel,:),l1t(sel,:),l2t(sel,:),l3t(sel,:),l1m(sel,:),l2m(sel,:),l3m(sel,:)])
label = {<span class="string">'l1f'</span>,<span class="string">'l2f'</span>,<span class="string">'l3f'</span>,<span class="string">'l1t'</span>,<span class="string">'l2t'</span>,<span class="string">'l3t'</span>,<span class="string">'l1m'</span>,<span class="string">'l2m'</span>,<span class="string">'l3m'</span>};
set(gca, <span class="string">'XTickLabel'</span>,label, <span class="string">'XTick'</span>,1:9)
title(<span class="string">'L&auml;nge der Beinsegmente (Femur f, Tibia t, Metatarsus m)'</span>)
ylabel(<span class="string">'l in mm'</span>)

figure(4)
bplot([l1(sel,:),l2(sel,:),l3(sel,:)])
label = {<span class="string">'l1'</span>,<span class="string">'l2'</span>,<span class="string">'l3'</span>};
set(gca, <span class="string">'XTickLabel'</span>,label, <span class="string">'XTick'</span>,1:9)
title(<span class="string">'Gesamtl&auml;nge der Beine'</span>)
ylabel(<span class="string">'l in mm'</span>)

<span class="comment">%%%%%%%%%%%%</span>
</pre><h2 id="2">Modell %%</h2><pre class="codeinput"><span class="comment">%%%%%%%%%%%%</span>
</pre><h2 id="3">Beine</h2><pre class="codeinput">figure(5)
<span class="comment">%close all</span>
bc = 1;
rsf=[]; rst=[]; rsm=[]; Vf=[]; Vt=[]; Vm=[];
<span class="keyword">for</span> jj = 1 : 3
    clear <span class="string">fb1</span> <span class="string">fb2</span> <span class="string">tb1</span> <span class="string">tb2</span> <span class="string">mb1</span> <span class="string">mb2</span> <span class="string">lf</span> <span class="string">lt</span> <span class="string">lm</span>
    eval([<span class="string">'fb1 = l'</span>,num2str(jj),<span class="string">'fb1;'</span>]);
    eval([<span class="string">'fb2 = l'</span>,num2str(jj),<span class="string">'fb2;'</span>]);
    eval([<span class="string">'tb1 = l'</span>,num2str(jj),<span class="string">'tb1;'</span>]);
    eval([<span class="string">'tb2 = l'</span>,num2str(jj),<span class="string">'tb2;'</span>]);
    eval([<span class="string">'mb1 = l'</span>,num2str(jj),<span class="string">'mb1;'</span>]);
    eval([<span class="string">'mb2 = l'</span>,num2str(jj),<span class="string">'mb2;'</span>]);
    eval([<span class="string">'lf = l'</span>,num2str(jj),<span class="string">'f;'</span>]);
    eval([<span class="string">'lt = l'</span>,num2str(jj),<span class="string">'t;'</span>]);
    eval([<span class="string">'lm = l'</span>,num2str(jj),<span class="string">'m;'</span>]);
    <span class="comment">% f&uuml;r zylinder</span>
    fbz = mean([fb1,fb2],2).*bc;
    tbz = mean([tb1,tb2],2).*bc;
    mbz = mean([mb1,mb2],2).*bc;
    subplot(2,2,jj)
    <span class="keyword">for</span> ii = 1 : length(l1fb1(sel))
        kk = sel(ii);
      <span class="comment">% Kegelstumpf</span>
        [rsf(jj,kk), rst(jj,kk), rsm(jj,kk),Vf(jj,kk), Vt(jj,kk), Vm(jj,kk)] = antleg(fb1(kk).*bc,fb2(kk).*bc,lf(kk),tb1(kk).*bc, tb2(kk).*bc, lt(kk), mb1(kk).*bc, mb2(kk).*bc, lm(kk),0.5,1);
      <span class="comment">% Zylinder</span>
     <span class="comment">% [rsf(jj,kk), rst(jj,kk), rsm(jj,kk),Vf(jj,kk), Vt(jj,kk), Vm(jj,kk)] = antleg(fbz(kk), fbz(kk), lf(kk), tbz(kk), tbz(kk), lt(kk), mbz(kk), mbz(kk), lm(kk),0.5,1);</span>
        rsfr(jj,kk) = rsf(jj,kk)./lf(kk);
        rstr(jj,kk) = rst(jj,kk)./lt(kk);
        rsmr(jj,kk) = rsm(jj,kk)./lm(kk);
        title([<span class="string">'leg'</span>,num2str(jj)])
        ylabel(<span class="string">'y in mm'</span>); xlabel(<span class="string">'x in mm'</span>)
    <span class="keyword">end</span>
    antleg(median(fb1),median(fb2),median(lf),median(tb1), median(tb2), median(lt), median(mb1), median(mb2), median(lm),0,2);
    axis([-1.5 8 -5 3])
    subplot(2,2,4)
    antleg(median(fb1),median(fb2),median(lf),median(tb1), median(tb2), median(lt), median(mb1), median(mb2), median(lm),0,1);
    axis([-1.5 8 -5 3])
     title(<span class="string">'Vergleich der drei Beine (l1, l2, l3)'</span>)
        ylabel(<span class="string">'y in mm'</span>); xlabel(<span class="string">'x in mm'</span>)
<span class="keyword">end</span>


Vseg = [Vf(:,sel); Vt(:,sel); Vm(:,sel)]';
lr = @(x) x(end,:); <span class="comment">%last row</span>
<span class="comment">% Gesamtvolumen der Einzelbeine</span>
Vleg = [Vf(:,sel) + Vt(:,sel) + Vm(:,sel)]';
<span class="comment">%Veks = [Vleg, Vseg];</span>
<span class="comment">%Vk    = [Vleg, Vseg];</span>
Vks   = [Vleg, Vseg];
mean(Vleg);

figure(6)
boxplot([Vleg, Vseg])
label = {<span class="string">'leg1'</span>,<span class="string">'leg2'</span>,<span class="string">'leg3'</span>,<span class="string">'femur1'</span>,<span class="string">'femur2'</span>,<span class="string">'femur3'</span>,<span class="string">'tibia1'</span>,<span class="string">'tibia2'</span>,<span class="string">'tibia3'</span>,<span class="string">'tarsus1'</span>,<span class="string">'tarsus2'</span>,<span class="string">'tarsus3'</span>};
set(gca, <span class="string">'XTickLabel'</span>,label, <span class="string">'XTick'</span>,1:12)
title(<span class="string">'Estimated Volume Leg Segments (Frustum)'</span>)
ylabel(<span class="string">'Volumen in mm^3'</span>)
csvwrite_with_headers([pathname, <span class="string">'volume_leg_segmetn_kegelstumpf.csv'</span>],Vks, label);
csvwrite_with_headers([pathname, <span class="string">'volume_leg_segmetn_kegel.csv'</span>],Vk, label);
csvwrite_with_headers([pathname, <span class="string">'volume_leg_segmetn_kegelstumpf_elliptisch.csv'</span>],Veks, label);
save([pathname, <span class="string">'volume_leg_segmetn.mat'</span>])
<span class="comment">% Dichte Chitin 1.37 g/cm^3</span>
<span class="comment">% Dichte Ameisens&auml;ure 1.22 g/cm^3</span>
</pre><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2016b</a><br></p></div><!--
##### SOURCE BEGIN #####
% Toni Wöhrl, März 2013, Messung von Entfernungen: Kopf, Gaster,
% Beinsegmente von Ameisen


clear all
clc
pathname = 'C:\Users\tw\Dropbox\todo\ant\segment_length\';
%cd('C:\Users\Woehrl\Ubuntu One\script')
addpath('C:\Users\tw\Dropbox\todo\code\matlab')

%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
%Segmentmassen
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-

segm = [74.6 35.8 162.7 6.1	6 9.1]/15; %Masse der Segmente vgl. lsegm von 15 Ameisen
lsegm = {'Kopf'	'Thorax' 'Gaster' 'Beinpaar 1'	'Beinpaar M' 'Beinpaar H'};

[BodyVorAnalyse Kopf Thorax Gaster leg1 leg2 leg3 SumLeg SumBodyPartNachAnalyse Waage] = ...
    CSVIMPORT([pathname, '130306_massen.csv'],...
    'columns', {'BodyVorAnalyse' 'Kopf' 'Thorax' 'Gaster' 'leg1' 'leg2' 'leg3' 'SumLeg' 'SumBodyPartNachAnalyse' 'Waage'},...
    'delimiter', ';'); %Einheit: Milligram

leg1all = 6.2/30; % mg alle ersten Beine
leg2all = 6.15/29; % mg alle zweiten Beine
leg3all = 9.1/30; % mg alle dritten Beine
sumlegall = 2* (leg1all + leg2all + leg3all);

%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
%Längenmessung
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-

[id] = CSVIMPORT([pathname, '130326_protokoll.csv'], 'columns', {'ID'}, 'delimiter', ';');

pos_s  = 8;     %Position zur Kennzeichnung des Segmentes h = Kopf, g = Gaster, p = alle Punkte im Dateinamen
pos_n  = 9:10; %Position der Ameisennummer im Dateinamen

for ii = 1:length(id)
    n = str2num(id{ii}(pos_n));
    if id{ii}(pos_s) == 'h' %Kopf, %gerade nummer = vieleck, %ungerade = ellipse
        [h(n,1:2) h(n,3:4) h(n,5:6) h(n,7:8)]...
            = CSVIMPORT([pathname, id{ii}], 'columns', {'Area', 'Perim.', 'Major', 'Minor'}, 'delimiter', '\t');
    elseif id{ii}(pos_s) == 'g' %Gaster %gerade nummer = vieleck, %ungerade = ellipse
        [g(n,1:2) g(n,3:4) g(n,5:6) g(n,7:8)]...
            = CSVIMPORT([pathname, id{ii}], 'columns', {'Area', 'Perim.', 'Major', 'Minor'}, 'delimiter', '\t');
    elseif id{ii}(pos_s) == 'p' %Alle Punkte
        [x(n,:) y(n,:)] = CSVIMPORT([pathname, id{ii}], 'columns', {'X' 'Y'}, 'delimiter', '\t');
    end
    antnr(n,1)=n;
end

%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
%Maßstab
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
m = antdist2(1,2,x,y); 
m5=mean([m(2:4);m(6:end)])/5;
m2=m(5)/2;
mm= [m5 m5 m5 m5 m2 m5 m5 m5 m5 m5 m5 m5 m5 m5 m5 m5]'; %Pixel pro 5 Millimeter


%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%Gaster
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
gh = antdist2(5,9,x,y)./mm; %Höhe
gl = antdist2(3,7,x,y)./mm; %Länge

%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%Kopf
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
kl = antdist2(22,26,x,y)./mm; %Kopflänge
kb = antdist2(24,28,x,y)./mm; %Kopfbreite

%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%Thorax
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
tl = antdist2(11,17,x,y)./mm; %Länge
tb1 = antdist2(15,18,x,y)./mm; %Breite
tb2 = antdist2(13,20,x,y)./mm; %Breite
tb3 = antdist2(12,21,x,y)./mm; %Breite
tb  = mean([tb1 tb2 tb3],2);
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%Vorderbeine 1:
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
% l1 femur 
l1f(:,1) = antdist2(30,31,x,y)./mm;
l1f(:,2) = antdist2(48,49,x,y)./mm;
l1f = mean(l1f,2);
l1fb1(:,1) = antdist2(36,37,x,y)./mm;
l1fb1(:,2) = antdist2(54,55,x,y)./mm;
l1fb1 = mean(l1fb1,2);
l1fb2(:,1) = antdist2(38,39,x,y)./mm;
l1fb2(:,2) = antdist2(56,57,x,y)./mm;
l1fb2 = mean(l1fb2,2);
l1fb  = mean([l1fb1 l1fb2],2);

% l1 tibia 
l1t(:,1) = antdist2(31,32,x,y)./mm;
l1t(:,2) = antdist2(49,50,x,y)./mm;
l1t = mean(l1t,2);
l1tb1(:,1) = antdist2(40,41,x,y)./mm;
l1tb1(:,2) = antdist2(58,59,x,y)./mm;
l1tb1 = mean(l1tb1,2);
l1tb2(:,1) = antdist2(42,43,x,y)./mm;
l1tb2(:,2) = antdist2(60,61,x,y)./mm;
l1tb2 = mean(l1tb2,2);
l1tb  = mean([l1tb1 l1tb2],2);
% l1 metatarsus
l1m(:,1) = (antdist2(32,33,x,y) + antdist2(33,34,x,y) + antdist2(34,35,x,y))./mm;
l1m(:,2) = (antdist2(50,51,x,y) + antdist2(51,52,x,y) + antdist2(52,53,x,y))./mm;
l1m = mean(l1m,2);
l1mb1(:,1) = antdist2(44,45,x,y)./mm;
l1mb1(:,2) = antdist2(62,63,x,y)./mm;
l1mb1 = mean(l1mb1,2);
l1mb2(:,1) = antdist2(46,47,x,y)./mm;
l1mb2(:,2) = antdist2(64,65,x,y)./mm;
l1mb2 = mean(l1mb2,2);
l1mb = mean([l1mb1, l1mb2],2);
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
%Mittelbeine 2:
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
% l2 femur 
l2f(:,1) = antdist2(66,67,x,y)./mm;
l2f(:,2) = antdist2(84,85,x,y)./mm;
l2f = mean(l2f,2);
l2fb1(:,1) = antdist2(72,73,x,y)./mm;
l2fb1(:,2) = antdist2(90,91,x,y)./mm;
l2fb1 = mean(l2fb1,2);
l2fb2(:,1) = antdist2(74,75,x,y)./mm;
l2fb2(:,2) = antdist2(92,93,x,y)./mm;
l2fb2 = mean(l2fb2,2);
l2fb  = mean([l2fb1 l2fb2],2);
% l2 tibia 
l2t(:,1) = antdist2(66,67,x,y)./mm;
l2t(:,2) = antdist2(85,86,x,y)./mm;
l2t = mean(l2t,2);
l2tb1(:,1) = antdist2(76,77,x,y)./mm;
l2tb1(:,2) = antdist2(94,95,x,y)./mm;
l2tb1 = mean(l2tb1,2);
l2tb2(:,1) = antdist2(78,79,x,y)./mm;
l2tb2(:,2) = antdist2(96,97,x,y)./mm;
l2tb2 = mean(l2tb2,2);
l2tb   = mean([l2tb1 l2tb2],2);
% l2 metatarsus 
l2m(:,1) = (antdist2(68,69,x,y) + antdist2(69,70,x,y) + antdist2(70,71,x,y))./mm;
l2m(:,2) = (antdist2(86,87,x,y) + antdist2(87,88,x,y) + antdist2(88,89,x,y))./mm;
l2m = mean(l2m,2);
l2mb1(:,1) = antdist2(80,81,x,y)./mm;
l2mb1(:,2) = antdist2(98,99,x,y)./mm;
l2mb1 = mean(l2mb1,2);
l2mb2(:,1) = antdist2(82,83,x,y)./mm;
l2mb2(:,2) = antdist2(100,101,x,y)./mm;
l2mb2 = mean(l2mb2,2);
l2mb = mean([l2mb1 l2mb1],2);
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
%Hinterbeine 2:
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
% l3 femur 
l3f(:,1) = antdist2(102,103,x,y)./mm;
l3f(:,2) = antdist2(120,121,x,y)./mm;
l3fb1(:,1) = antdist2(108,109,x,y)./mm;
l3fb1(:,2) = antdist2(126,127,x,y)./mm;
l3fb2(:,1) = antdist2(110,111,x,y)./mm;
l3fb2(:,2) = antdist2(128,129,x,y)./mm;
% l3 tibia 
l3t(:,1) = antdist2(103,104,x,y)./mm;
l3t(:,2) = antdist2(121,122,x,y)./mm;
l3tb1(:,1) = antdist2(112,113,x,y)./mm;
l3tb1(:,2) = antdist2(130,131,x,y)./mm;
l3tb2(:,1) = antdist2(114,115,x,y)./mm;
l3tb2(:,2) = antdist2(132,133,x,y)./mm;
% l3 metatarsus 
l3m(:,1) = (antdist2(104,105,x,y) + antdist2(105,106,x,y) + antdist2(106,107,x,y))./mm;
l3m(:,2) = (antdist2(122,123,x,y) + antdist2(123,124,x,y) + antdist2(124,125,x,y))./mm;
l3mb1(:,1) = antdist2(116,117,x,y)./mm;
l3mb1(:,2) = antdist2(134,135,x,y)./mm;
l3mb2(:,1) = antdist2(118,119,x,y)./mm;
l3mb2(:,2) = antdist2(136,137,x,y)./mm;
%!!!!! Ein Hinterbein von Ameise 4 fehlt!!
l3f(4,2)=l3f(4,1);
l3t(4,2)=l3t(4,1);
l3m(4,2)=l3m(4,1);
l3fb1(4,2)=l3fb1(4,1);
l3fb2(4,2)=l3fb2(4,1);
l3tb1(4,2)=l3tb1(4,1);
l3tb2(4,2)=l3tb2(4,1);
l3mb1(4,2)=l3mb1(4,1);
l3mb2(4,2)=l3mb2(4,1);

l3f = mean(l3f,2);
l3fb1 = mean(l3fb1,2);
l3fb2 = mean(l3fb2,2);
l3fb  = mean([l3fb1, l3mb2],2);


l3t = mean(l3t,2);
l3tb1 = mean(l3tb1,2);
l3tb2 = mean(l3tb2,2);
l3tb  = mean([l3tb1, l3tb2],2);

l3m   = mean(l3m,2);
l3mb1 = mean(l3mb1,2);
l3mb2 = mean(l3mb2,2);
l3mb  = mean([l3mb1, l3mb2],2);

%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
%Gesamtlänge Beine
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
l1 = l1f + l1t + l1m;
l2 = l2f + l2t + l2m;
l3 = l3f + l3t + l3m;

%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%Mittelwerte Beinbreite
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
mwbb= [...
l1fb1 l1fb2 l2fb1 l2fb2 l3fb1 l3fb2 ...
l1tb1 l1tb2 l2tb1 l2tb2 l3tb1 l3tb2 ...
l1mb1 l1mb2 l2mb1 l2mb2 l3mb1 l3mb2 ...
];

sel = [2:16];
format short
                       
          
messwerte  = [h(:,1:4),h(:,6), h(:,8),... % 1..6
    g(:,1:4), g(:,6), g(:,8),...                   % 10-12
    l1, l2, l3,...                                 % 13-15
    gl, gh,...                                     % 16-17
    kl, kb,...                                     % 18-19
    tl, tb1, tb2, tb3,...                          % 20-23
    mwbb];
gesamt     = [antnr mm messwerte BodyVorAnalyse Kopf Thorax Gaster leg1 leg2 leg3 SumLeg SumBodyPartNachAnalyse Waage];
label = {'ID', 'mm',... %ID Messnummer, Maßstab in Pixel pro Millimeter
    'har', 'hae', 'hpr', 'hpe', 'hmaje', 'hmine',... % Kopf(h): Fläche(a): Rechteck(r)/Ellipse(e); Perimeter (p): Rechteck/Ellipse; Große Halbachse Ellipse und Kleine Halbachse Ellipse 
    'gar', 'gae', 'gpr', 'gpe', 'gmaje', 'gmine',... % Gaster(g)... siehe Kopf
    'l1' , 'l2' , 'l3',... % Bein 1 als Vorderbein, l2 Mittelbein l3 hinterbein
    'gl' , 'gh' ,...  % Gasterlänge, Gasterhöhe
    'kl' , 'kb' ,...  % Kopflänge, Kopfbreite
    'tl' , 'tb1','tb2', 'tb3',... %Thoraxlänge, Thoraxbreite (1 bis 3)
    'l1fb1', 'l1fb2', 'l2fb1', 'l2fb2', 'l3fb1', 'l3fb2',... % Femur Breite proximal und distal von Bein 1 bis 3
    'l1tb1', 'l1tb2', 'l2tb1', 'l2tb2', 'l3tb1', 'l3tb2',... % Tibia
    'l1mb1', 'l1mb2', 'l2mb1', 'l2mb2', 'l3mb1', 'l3mb2',... % Metatarsus
    'BodyVorAnalyse',... % Masse in Milligramm: toter Gesamtkörper vor Analyse
    'Kopf' 'Thorax' 'Gaster',... % Segmentmassen in Milligramm: Kopf, Thorax, Gaster
    'leg1' 'leg2' 'leg3' 'SumLeg',... % Segmentmassen der Beine, Summe aller Beinpaare einer Ameise
    'SumBodyPartNachAnalyse' 'Waage',... % Summe aller Körperteile nach der Analyse, %Typ der Analysewaage
    };  
%csvwrite_with_headers([pathname, '140901_gesamt.csv'],gesamt, label);
% plotmatrix([l1(sel),l2(sel),l3(sel),...
%      gl(sel), gh(sel),...
%      kl(sel), kb(sel),...
%      tl(sel), tb1(sel), tb2(sel), tb3(sel)]); shg
[H,AX,BigAx,P,PAx] = plotmatrix([l1t(sel), BodyVorAnalyse(sel)])
[H,AX,BigAx,P,PAx] = plotmatrix([l1f(sel) l1fb(sel)])
[H,AX,BigAx,P,PAx] = plotmatrix([l2(sel) leg2(sel)])
label = {'a', 'b'};

plotmatrixLabel(AX,label)

femurb = [l1fb1, l1fb2, l2fb1, l2fb2, l3fb1, l3fb2];
tibiab = [l1tb1, l1tb2, l2tb1, l2tb2, l3tb1, l3tb2];
metatb = [l1mb1, l1mb2, l2mb1, l2mb2, l3mb1, l3mb2];

figure(1)
bplot([femurb(sel,:),tibiab(sel,:),metatb(sel,:)])
label = {'f1p','f1d','f2p','f2d','f3p','f3d','t1p','t1d','t2p','t2d','t3p','t3d','m1p','m1d','m2p','m2d','m3p','m3d'};
set(gca, 'XTickLabel',label, 'XTick',1:18)
title('Durchmesser der Bein-Segmente proximal p und distal d (Femur f, Tibia t, Metatarsus m)')
ylabel('d in mm')

figure(2)
bplot([leg1(sel,:),leg2(sel,:),leg3(sel,:)]/2)
label = {'leg1','leg2','leg3'};
set(gca, 'XTickLabel',label, 'XTick',1:3)
title('Masse der Einzelbeine')
ylabel('m in mg')

figure(3)
bplot([l1f(sel,:),l2f(sel,:),l3f(sel,:),l1t(sel,:),l2t(sel,:),l3t(sel,:),l1m(sel,:),l2m(sel,:),l3m(sel,:)])
label = {'l1f','l2f','l3f','l1t','l2t','l3t','l1m','l2m','l3m'};
set(gca, 'XTickLabel',label, 'XTick',1:9)
title('Länge der Beinsegmente (Femur f, Tibia t, Metatarsus m)')
ylabel('l in mm')

figure(4)
bplot([l1(sel,:),l2(sel,:),l3(sel,:)])
label = {'l1','l2','l3'};
set(gca, 'XTickLabel',label, 'XTick',1:9)
title('Gesamtlänge der Beine')
ylabel('l in mm')

%%%%%%%%%%%%
%% Modell %%
%%%%%%%%%%%%
%% Beine
figure(5)
%close all
bc = 1;
rsf=[]; rst=[]; rsm=[]; Vf=[]; Vt=[]; Vm=[];
for jj = 1 : 3
    clear fb1 fb2 tb1 tb2 mb1 mb2 lf lt lm
    eval(['fb1 = l',num2str(jj),'fb1;']);
    eval(['fb2 = l',num2str(jj),'fb2;']);
    eval(['tb1 = l',num2str(jj),'tb1;']);
    eval(['tb2 = l',num2str(jj),'tb2;']);
    eval(['mb1 = l',num2str(jj),'mb1;']);
    eval(['mb2 = l',num2str(jj),'mb2;']);
    eval(['lf = l',num2str(jj),'f;']);
    eval(['lt = l',num2str(jj),'t;']);
    eval(['lm = l',num2str(jj),'m;']);
    % für zylinder
    fbz = mean([fb1,fb2],2).*bc;
    tbz = mean([tb1,tb2],2).*bc;
    mbz = mean([mb1,mb2],2).*bc;
    subplot(2,2,jj)
    for ii = 1 : length(l1fb1(sel))
        kk = sel(ii);
      % Kegelstumpf
        [rsf(jj,kk), rst(jj,kk), rsm(jj,kk),Vf(jj,kk), Vt(jj,kk), Vm(jj,kk)] = antleg(fb1(kk).*bc,fb2(kk).*bc,lf(kk),tb1(kk).*bc, tb2(kk).*bc, lt(kk), mb1(kk).*bc, mb2(kk).*bc, lm(kk),0.5,1);
      % Zylinder
     % [rsf(jj,kk), rst(jj,kk), rsm(jj,kk),Vf(jj,kk), Vt(jj,kk), Vm(jj,kk)] = antleg(fbz(kk), fbz(kk), lf(kk), tbz(kk), tbz(kk), lt(kk), mbz(kk), mbz(kk), lm(kk),0.5,1);
        rsfr(jj,kk) = rsf(jj,kk)./lf(kk); 
        rstr(jj,kk) = rst(jj,kk)./lt(kk); 
        rsmr(jj,kk) = rsm(jj,kk)./lm(kk); 
        title(['leg',num2str(jj)])
        ylabel('y in mm'); xlabel('x in mm')
    end
    antleg(median(fb1),median(fb2),median(lf),median(tb1), median(tb2), median(lt), median(mb1), median(mb2), median(lm),0,2);
    axis([-1.5 8 -5 3])
    subplot(2,2,4)
    antleg(median(fb1),median(fb2),median(lf),median(tb1), median(tb2), median(lt), median(mb1), median(mb2), median(lm),0,1);
    axis([-1.5 8 -5 3])
     title('Vergleich der drei Beine (l1, l2, l3)')
        ylabel('y in mm'); xlabel('x in mm')
end


Vseg = [Vf(:,sel); Vt(:,sel); Vm(:,sel)]';
lr = @(x) x(end,:); %last row
% Gesamtvolumen der Einzelbeine
Vleg = [Vf(:,sel) + Vt(:,sel) + Vm(:,sel)]'; 
%Veks = [Vleg, Vseg];
%Vk    = [Vleg, Vseg];
Vks   = [Vleg, Vseg];
mean(Vleg);

figure(6)
boxplot([Vleg, Vseg])
label = {'leg1','leg2','leg3','femur1','femur2','femur3','tibia1','tibia2','tibia3','tarsus1','tarsus2','tarsus3'};
set(gca, 'XTickLabel',label, 'XTick',1:12)
title('Estimated Volume Leg Segments (Frustum)')
ylabel('Volumen in mm^3')
csvwrite_with_headers([pathname, 'volume_leg_segmetn_kegelstumpf.csv'],Vks, label);
csvwrite_with_headers([pathname, 'volume_leg_segmetn_kegel.csv'],Vk, label);
csvwrite_with_headers([pathname, 'volume_leg_segmetn_kegelstumpf_elliptisch.csv'],Veks, label);
save([pathname, 'volume_leg_segmetn.mat'])
% Dichte Chitin 1.37 g/cm^3
% Dichte Ameisensäure 1.22 g/cm^3

##### SOURCE END #####
--></body></html>